## h4 Tiedustelua

Tehtävien lähde: https://terokarvinen.com/2021/penetration-testing-course-2022-spring/#comments kohta h4.

Kali linuxin kanssa oli hieman haasteita. Annoin lisää muistia ja painoin virtual boxista reset nappia. Kun sain kalin taas toimimaan, varmistin että se ei pääse yhdistämään oman virtualboxini ulkopuolelle komennolla ping 8.8.8.8. Network is unreacheable, joten voin aloittaa tehtävät. Kohteena on jälleen kerran metasploitable 2. Wireshark pyörii Kalissa. Wiresharkkiin tulee jostain syystä udp broadcast paketteja. Suodatin ne pois käyttämällä filtteriä tcp.

# z)

# a) nmap TCP connect scan -sT

Ajoin komennon sudo nmap -sT -p22 192.168.56.101.

![image](https://user-images.githubusercontent.com/81921071/166102513-ed6c55b8-c7c0-437a-8482-0703b7226b1a.png)

Wiresharkin perusteella nmap muodostaa yhteyden kohdekoneen porttiin 22. Se lähettää normaalin tcp yhteyden avauksen eli SYN > SYN ACK > ACK lipuilla varustetut paketit. Yhteyden avaamisen jälkeen yhteys suljetaan.

Googlasin vielä tietoa, miten -sT valinta toimii. Nmap yrittää avata TCP yhteyden johonkin porttiin. Eli se avaa yhteyden ja kun kohde alkaa lähettää dataa, nmap sulkee yhteyden. TCP scannia käytetään yleensä, kun SYN scannia ei voida tehdä. Tämä scanni lähettää hieman enemmän paketteja kuin SYN scan, mutta niiden määrä ei ole merkittävä.

lähde: https://nmap.org/book/scan-methods-connect-scan.html

# b) nmap TCP SYN "used to be stealth" scan, -sS (tätä käytetään skannatessa useimmin)

